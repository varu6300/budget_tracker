Decision: Defer Vite/esbuild major upgrade (Option 1)

Date: 2025-10-05

Summary
-------
NPM audit reported 3 moderate vulnerabilities related to dev-time tooling (esbuild and vite). These affect the local development server and not the production build output.

Decision
--------
We chose Option 1 (safe/quick route): keep current package versions and continue development. We'll address the dev-tool vulnerabilities later when we can schedule a controlled, semver-major update and test for compatibility.

Why
---
- The vulnerabilities are in dev-only tooling (esbuild/Vite) and have lower production risk when you build static assets for deployment.
- Upgrading Vite to a major version (suggested by npm audit) may introduce breaking changes that require code and plugin updates; that requires a test pass.
- Immediate productivity and feature work are prioritized; security-sensitive or production-facing fixes will be addressed before any public deployment.

Safety guidance (what to do while developing)
-------------------------------------------
- Do NOT serve the dev server on an open network. Keep Vite bound to localhost.
  - Start dev server normally (defaults to localhost): `npm run dev`.
  - If you must expose it temporarily, use a secure tunnel (ssh/Cloud IDE) and only for short testing sessions.
- Do not run the dev server on a server-facing environment.
- Build for production to verify final assets: `npm run build` and serve the output through a production-grade server (nginx, static host, etc.).

Commands
--------
# Run dev server (localhost only)
cd frontend
npm run dev

# Build production assets
npm run build

# Re-run audit anytime
npm audit

How to fully fix later (safe approach)
--------------------------------------
1. Prepare a branch for the upgrade.
2. Upgrade Vite and related plugins to compatible major versions (example):
   npm install vite@7.1.9 @vitejs/plugin-react@5 --save-dev
3. Run the app and fix any plugin/option regressions.
4. Run the full test and QA pass, then merge.

If you want, I can perform the staged upgrade in a feature branch and fix any issues.

Contact
-------
If you'd like me to proceed with the major upgrade (Vite -> 7.x), say "upgrade Vite" and I'll create a branch, update dependencies, run install, and fix any breakages encountered.
